{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pishi\\\\Desktop\\\\HotelApp\\\\frontend\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.guest_idHandler = e => {\n      this.setState({\n        guest_id: e.target.value\n      });\n    };\n\n    this.passwordHandler = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.submitLogin = e => {\n      e.preventDefault();\n      const data = {\n        guest_id: this.state.guest_id,\n        password: this.state.password\n      };\n      axios.defaults.withCredentials = true;\n      axios.post('http://localhost:3001/login', data).then(response => {\n        console.log(\"Status code: \", response.status);\n\n        if (response.status === 200) {\n          this.setState({\n            authFlag: true\n          });\n        } else {\n          this.setState({\n            authFlag: false\n          });\n        }\n      });\n    };\n\n    this.state = {\n      guest_id: \"\",\n      password: \"\",\n      authFlag: false\n    };\n    this.guest_idHandler = this.guest_idHandler.bind(this);\n    this.passwordHandler = this.passwordHandler.bind(this);\n    this.submitLogin = this.submitLogin.bind(this);\n  }\n\n  componentWillMount() {\n    this.setState({\n      authFlag: false\n    });\n  }\n\n  render() {\n    let redirectVar = null;\n\n    if (cookie.load('cookie')) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, redirectVar, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"main-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Login:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Please enter your Guest ID and password below:\")), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.guest_idHandler,\n      type: \"text\",\n      class: \"form-control\",\n      name: \"guest_id\",\n      placeholder: \"Guest ID\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.passwordHandler,\n      type: \"password\",\n      class: \"form-control\",\n      name: \"password\",\n      placeholder: \"Password\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.submitLogin,\n      class: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Login\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\pishi\\Desktop\\HotelApp\\frontend\\src\\components\\Login\\Login.js"],"names":["React","Component","axios","cookie","Redirect","Login","constructor","props","guest_idHandler","e","setState","guest_id","target","value","passwordHandler","password","submitLogin","preventDefault","data","state","defaults","withCredentials","post","then","response","console","log","status","authFlag","bind","componentWillMount","render","redirectVar","load"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport '../../App.css';\r\nimport axios from 'axios';\r\nimport cookie from 'react-cookies';\r\nimport {Redirect} from 'react-router';\r\n\r\nclass Login extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.state = \r\n        {\r\n            guest_id: \"\",\r\n            password: \"\",\r\n            authFlag: false\r\n        }\r\n\r\n        this.guest_idHandler = this.guest_idHandler.bind(this);\r\n        this.passwordHandler = this.passwordHandler.bind(this);\r\n        this.submitLogin = this.submitLogin.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.setState({\r\n            authFlag: false\r\n        })\r\n    }\r\n\r\n    guest_idHandler = (e) => \r\n    {\r\n        this.setState({\r\n            guest_id: e.target.value\r\n        })\r\n    }\r\n\r\n    passwordHandler = (e) => \r\n    {\r\n        this.setState({\r\n            password: e.target.value\r\n        })\r\n    }\r\n\r\n    submitLogin = (e) => \r\n    {\r\n        e.preventDefault();\r\n\r\n        const data = \r\n        {\r\n            guest_id: this.state.guest_id,\r\n            password: this.state.password\r\n        }\r\n\r\n        axios.defaults.withCredentials = true;\r\n\r\n        axios.post('http://localhost:3001/login', data)\r\n            .then(response => {\r\n                console.log(\"Status code: \", response.status);\r\n\r\n                if (response.status === 200)\r\n                {\r\n                    this.setState({\r\n                        authFlag: true\r\n                    })\r\n                }\r\n                else\r\n                {\r\n                    this.setState({\r\n                        authFlag: false\r\n                    })\r\n                }\r\n            });\r\n    }\r\n\r\n    render()\r\n    {\r\n        let redirectVar = null;\r\n\r\n        if (cookie.load('cookie'))\r\n        {\r\n            redirectVar = <Redirect to = \"/home\" />\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                {redirectVar}\r\n\r\n                <div class = \"container\">\r\n                    <div class = \"login-form\">\r\n                        <div class = \"main-div\">\r\n                            <div class = \"panel\">\r\n                                <h2>Login:</h2>\r\n                                <p>Please enter your Guest ID and password below:</p>\r\n                            </div>\r\n\r\n                            <div class = \"form-group\">\r\n                                <input onChange = {this.guest_idHandler} type = \"text\" class = \"form-control\" name = \"guest_id\" placeholder = \"Guest ID\" required />\r\n                            </div>\r\n\r\n                            <div class = \"form-group\">\r\n                                <input onChange = {this.passwordHandler} type = \"password\" class = \"form-control\" name = \"password\" placeholder = \"Password\" required />\r\n                            </div>\r\n\r\n                            <button onClick = {this.submitLogin} class = \"btn btn-primary\">Login</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}